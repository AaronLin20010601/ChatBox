<template>
    <div class="flex justify-center items-center">
        <div class="w-full max-w-md bg-white/70 backdrop-blur-md border border-white/30 rounded-2xl shadow-xl p-8">
            <h2 class="text-3xl font-semibold text-center text-gray-800 mb-6">
                ğŸ” Login to Chat Box
            </h2>

            <!-- ç™»å…¥è¡¨å–® -->
            <LoginForm @success="handleSuccess" />
        </div>
    </div>
</template>

<script setup lang="ts">
import { useRouter } from 'vue-router'
import { useAuthStore } from '@/stores/index.ts'
import LoginForm from '@/components/LoginForm.vue'

// ç™»å…¥æˆåŠŸå¾Œé€²å…¥èŠå¤©å®¤é¦–é 
const router = useRouter()
const authStore = useAuthStore()

function handleSuccess({ token, user }: { token: string; user: any }) {
    authStore.login(token, user)
    router.push('/chat')
}
</script>